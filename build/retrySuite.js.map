{"version":3,"sources":["../source/retrySuite.js"],"names":[],"mappings":"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","file":"retrySuite.js","sourcesContent":["// Generated by CoffeeScript 1.10.0\n(function() {\n  var patchMochaSuite;\n\n  module.exports = patchMochaSuite = function(Mocha) {\n    var RetryHook, Suite;\n    Suite = Mocha.Suite;\n    RetryHook = require('./retryHook');\n    Suite.prototype.beforeAllWithRetry = function(times, title, fn) {\n      var hook, ref, ref1;\n      if (this.pending) {\n        return this;\n      }\n      if (title == null) {\n        fn = times;\n        title = fn.name;\n        times = void 0;\n      } else if (fn == null) {\n        if (typeof times === 'number') {\n          ref = [void 0, title], title = ref[0], fn = ref[1];\n        } else {\n          ref1 = [times, title, void 0], title = ref1[0], fn = ref1[1], times = ref1[2];\n        }\n        if (typeof title === 'function') {\n          fn = title;\n          title = fn.name;\n        }\n      }\n      if ((times == null) && (this.times != null)) {\n        times = this.times;\n      }\n      title = \"\\\"before all\\\" hook\" + (title ? \": \" + title : \"\");\n      hook = new RetryHook(times, title, fn);\n      hook.parent = this;\n      hook.timeout(this.timeout());\n      hook.slow(this.slow());\n      hook.ctx = this.ctx;\n      this._beforeAll.push(hook);\n      this.emit(\"beforeAll\", hook);\n      return this;\n    };\n    Suite.prototype.beforeEachWithRetry = function(times, title, fn) {\n      var hook, ref, ref1;\n      if (this.pending) {\n        return this;\n      }\n      if (title == null) {\n        fn = times;\n        title = fn.name;\n        times = void 0;\n      } else if (fn == null) {\n        if (typeof times === 'number') {\n          ref = [void 0, title], title = ref[0], fn = ref[1];\n        } else {\n          ref1 = [times, title, void 0], title = ref1[0], fn = ref1[1], times = ref1[2];\n        }\n        if (typeof title === 'function') {\n          fn = title;\n          title = fn.name;\n        }\n      }\n      if ((times == null) && (this.times != null)) {\n        times = this.times;\n      }\n      title = \"\\\"before each\\\" hook\" + (title ? \": \" + title : \"\");\n      hook = new RetryHook(times, title, fn);\n      hook.parent = this;\n      hook.timeout(this.timeout());\n      hook.slow(this.slow());\n      hook.ctx = this.ctx;\n      this._beforeEach.push(hook);\n      this.emit(\"beforeEach\", hook);\n      return this;\n    };\n    Suite.prototype.afterAllWithRetry = function(times, title, fn) {\n      var hook, ref, ref1;\n      if (this.pending) {\n        return this;\n      }\n      if (title == null) {\n        fn = times;\n        title = fn.name;\n        times = void 0;\n      } else if (fn == null) {\n        if (typeof times === 'number') {\n          ref = [void 0, title], title = ref[0], fn = ref[1];\n        } else {\n          ref1 = [times, title, void 0], title = ref1[0], fn = ref1[1], times = ref1[2];\n        }\n        if (typeof title === 'function') {\n          fn = title;\n          title = fn.name;\n        }\n      }\n      if ((times == null) && (this.times != null)) {\n        times = this.times;\n      }\n      title = \"\\\"after all\\\" hook\" + (title ? \": \" + title : \"\");\n      hook = new RetryHook(times, title, fn);\n      hook.parent = this;\n      hook.timeout(this.timeout());\n      hook.slow(this.slow());\n      hook.ctx = this.ctx;\n      this._afterAll.push(hook);\n      this.emit(\"afterAll\", hook);\n      return this;\n    };\n    return Suite.prototype.afterEachWithRetry = function(times, title, fn) {\n      var hook, ref, ref1;\n      if (this.pending) {\n        return this;\n      }\n      if (title == null) {\n        fn = times;\n        title = fn.name;\n        times = void 0;\n      } else if (fn == null) {\n        if (typeof times === 'number') {\n          ref = [void 0, title], title = ref[0], fn = ref[1];\n        } else {\n          ref1 = [times, title, void 0], title = ref1[0], fn = ref1[1], times = ref1[2];\n        }\n        if (typeof title === 'function') {\n          fn = title;\n          title = fn.name;\n        }\n      }\n      if (\"function\" === typeof title) {\n        fn = title;\n        title = fn.name;\n      }\n      if ((times == null) && (this.times != null)) {\n        times = this.times;\n      }\n      title = \"\\\"after each\\\" hook\" + (title ? \": \" + title : \"\");\n      hook = new RetryHook(times, title, fn);\n      hook.parent = this;\n      hook.timeout(this.timeout());\n      hook.slow(this.slow());\n      hook.ctx = this.ctx;\n      this._afterEach.push(hook);\n      this.emit(\"afterEach\", hook);\n      return this;\n    };\n  };\n\n}).call(this);\n"]}